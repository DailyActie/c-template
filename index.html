<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>C-Template: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C-Template
   &#160;<span id="projectnumber">1.0.3</span>
   </div>
   <div id="projectbrief">Boilerplate c project with cmake support, CuTest unit testing, and more.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">C-Template Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table class="doxtable">
<tr>
<th></th><th></th></tr>
<tr>
<td>Title: </td><td>C-Template </td></tr>
<tr>
<td>Author: </td><td>Fletcher T. Penney </td></tr>
<tr>
<td>Date: </td><td>2016-08-24 </td></tr>
<tr>
<td>Copyright: </td><td>Copyright Â© 2015-2016 Fletcher T. Penney. </td></tr>
<tr>
<td>Version: </td><td>1.0.3 </td></tr>
</table>
<h2>Introduction</h2>
<p>This template was created out of a desire to simplify some of the setup and configuration that I was doing over and over each time I started a new project. Additionally, I wanted to try to start encouraging some "better practices" (though not necessarily "best practices"):</p>
<ol type="1">
<li><a href="https://en.wikipedia.org/wiki/Test-driven_development">Test-driven development</a> &ndash; My development of MultiMarkdown focused on integration testing, but really had no unit testing to speak of. Some newer projects I began working on were a bit math- heavy, and ensuring that each piece works properly became even more important. It was also nice to be able to actually develop code that could do <em>something</em> (via the test suite), even though the project as a whole was nowhere near complete.) To accomplish this, I include the <a href="http://cutest.sourceforge.net">CuTest</a> project to support writing tests for your code.</li>
<li>Use of the <a href="http://www.cmake.org/">cmake</a> build system. <code>cmake</code> is not perfect by any means, but it does offer some very useful features and a means for better integrating the compilation and packaging/installation aspects of development. Rather than reinventing the wheel each time, this setup incorporates basic <code>cmake</code> functionality to make it easy to control how your project is compiled, and includes automated generation of the test command.</li>
<li>Templates &ndash; <code>cmake</code> has a reasonable templating system, so that you can define basic variables (e.g. author, project name, etc.) and allow <code>cmake</code> to combine those elements to ensure consistency across source code and README files.</li>
<li>Documentation &ndash; some default setup to allow for <a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a>-generated documentation. The generated <code><a class="el" href="_r_e_a_d_m_e_8md_source.html">README.md</a></code> file is used as the main page, and the source c/header files are included. Naturally, Doxygen is a complex system, so you're responsible for figuring out how to properly document your code.</li>
<li>Simplify <code>git</code> a touch &ndash; In my larger projects, I make heavy use of git modules. One project may make use of 20-30 modules, which are designed to be re-usable across other projects. I found that I was spending too much time making sure that I had the latest version of a module checked out, so I created two scripts to help me keep my modules in line: <code>link_git_modules</code> and <code>update_git_modules</code>. You run the <code>link</code> script once to ensure that your modules are properly set up, and can then run the <code>update</code> script at any time to be sure you've pulled the latest version. One advantage of this is that your modules are set to a branch, rather than just a detached commit. It may or may not work for your needs, but it saves me a bunch of time and headache.</li>
</ol>
<h2>How do I use it?</h2>
<p>You can download the source from <a href="https://github.com/fletcher/c-template">github</a> and get to work. The file "IMPORTANT" contains instructions on the various build commands you can use.</p>
<p>I recommend using the following script to automatically create a new git repo, pull in the default project template, and configure git-flow. You simply have to rename your project directory from <code>new-project</code> to whatever you desire:</p>
<pre class="fragment">#!/bin/sh

git init new-project

cd new-project

git remote add "template" https://github.com/fletcher/c-template.git

git pull template master

git flow init -d

git checkout develop
</pre><p>Using this approach, you can define your own <code>origin</code> remote if you like, but the <code>template</code> remote can be used to update the core project files should any improvements come about: </p><pre class="fragment">git checkout develop
git merge template master
</pre><p><b>NOTE</b>: <code>cmake</code> is a complex suite of utilities, and if you have trouble you will need to get support elsewhere. If you find errors in this template, by all means I want to hear about them and fix them, but this is just a basic framework to get you started. In all likelihood, all but the most basic projects will need some customization.</p>
<h2>Configuration</h2>
<h3>CMakeLists.txt File</h3>
<p>First, you should update the project information under the "Define Our Project" section, including the title, description, etc. This information will be used to update the README, as well as to create the <code>version.h</code> file so that the project can have access to its own version number.</p>
<p>You will then need to update the various groups in the "Source Files" section so that Cmake will be able to determine which files are used to build your project. For reasons that will become clear later, try to follow the suggestions for the different groups of files.</p>
<p>You then need to define your targets, such as a library, or executable, etc. Obviously, this will depend on the needs of your project. You can also add custom steps based on the Target OS (OS X, Windows, *nix, etc.).</p>
<p>You can use CPack to generate installers for your software. This can be complex, and you will need to modify this section heavily.</p>
<p>CuTest is used by default to provide unit testing (see below), but you can also use CMake/CTest to provide integration testing. Again, this will be up to you to configure.</p>
<h3>CuTest</h3>
<p><a href="http://cutest.sourceforge.net">CuTest</a> provides a means to integrate unit testing with your C source code. Once you get the hang of it, it's easy to use.</p>
<h3>Doxygen</h3>
<p><a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a> is used to generate documentation from the source code itself. Properly configuring your source for this is up to you. You can modify the <code>doxygen.conf.in</code> template with your desired settings as desired, but most of the basics are handled for you based on your CMake configuration.</p>
<h3>GitHub Pages Support</h3>
<p>The <code>configure-gh-pages</code> script sets up a <code>documentation</code> directory that is linked to a <code>gh-pages</code> branch of the project. You can then run <code>make gh-pages</code> to update the documentation in this directory. Commit and push to your origin, and your projects gh-page is updated.</p>
<h3>Makefile</h3>
<p>The overall build process is controlled by the master <code>Makefile</code>. It provides the following commands: </p><pre class="fragment">make
make release
</pre><p>Generate the CMake build files for use or distribution. Once complete you will need to change to the <code>build</code> directory and run <code>make</code>, <code>make test</code>, and <code>cpack</code> as desired. </p><pre class="fragment">make zip
</pre><p>Direct CPack to create a zip installer rather than a graphical installer. </p><pre class="fragment">make debug
</pre><p>Generate build files for <a href="http://cutest.sourceforge.net">CuTest</a> unit testing. In the <code>build</code> directory, run <code>make</code>, then <code>make test</code>. </p><pre class="fragment">make analyze
</pre><p>If you have <code>clang</code> installed, this will generate debug build files with the <code>scan-build</code> command. In the <code>build</code> directory, run <code>scan-build -V make</code> to compile the software and view the static analysis results. </p><pre class="fragment">make xcode
</pre><p>Build a project file for Xcode on OS X. </p><pre class="fragment">make windows
make windows-zip
make windows-32
make windows-zip-32
</pre><p>Use the MinGW software to cross-compile for Windows on a *nix machine. You can specify the 32 bit option, and also the zip option as indicated. </p><pre class="fragment">make documentation
</pre><p>Build the <a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a>-generated documentation. </p><pre class="fragment">make clean
</pre><p>Clean out the <code>build</code> directory. Be sure to run this before running another command.</p>
<h2>Git Submodules</h2>
<p>Apparently, submodules are a rather controversial feature in git. For me, however, they have proven invaluable. My most active projects depend on each other, and the submodule feature allows me to easily keep everything up to date. That said, however, I quickly realized that submodules don't work very well using default commands.</p>
<p>The problem is that I want to always use the latest version of my submodules. This is more easily accomplished when the submodule is set to the <code>master</code> branch of the original repository, rather than a detached commit as happens by default. In order to easily keep all submodules updated, there are two scripts:</p>
<ol type="1">
<li><code>link_git_modules</code> &ndash; this script is generally only run when the master repository is first cloned, but can also be run after a new submodule is added. It causes the submodules to automatically track the master branch. If you need to modify this, there are instructions in the script itself explaining how to modify it on a per submodule basis. Running this script more than one time will not hurt anything.</li>
<li><code>update_git_modules</code> &ndash; this script simply causes each submodule to be updated to the latest commit in the original repository. Again, running it multiple times doesn't hurt anything.</li>
</ol>
<h2>Source File Templates</h2>
<p>In the <code>templates</code> directory are two files, <code>template.c.in</code> and <code>template.h.in</code>. These are used to create default source files that include the project title, copyright, license, etc. They are also set up to include some example information for <a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a> and <a href="http://cutest.sourceforge.net">CuTest</a>.</p>
<h2>License</h2>
<p>The <code>c-template</code> project is released under the MIT License.</p>
<p>GLibFacade.c and GLibFacade.h are from the MultiMarkdown v4 project: </p><pre class="fragment">https://github.com/fletcher/MultiMarkdown-4/
</pre><p>MMD 4 is released under both the MIT License and GPL.</p>
<p>CuTest is released under the zlib/libpng license. See CuTest.c for the text of the license.</p>
<h2>The MIT License</h2>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 24 2016 22:00:38 for C-Template by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
